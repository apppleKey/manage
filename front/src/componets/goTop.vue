<template>
  <div class="go_top" v-show="showTop" @click="goTop">
    <svg t="1571542160365" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2219" width="100%" height="100%"><path d="M776.464 496.44 513.23 231.854 249.996 496.44l0-40.156 263.234-264.64 263.234 264.64L776.464 496.44z" p-id="2220" fill="#ff3441"></path><path d="M305.549 828.947 305.549 654.035l-65.348 0 0-23.434 157.215 0 0 23.434-65.619 0 0 174.912L305.549 828.947 305.549 828.947z" p-id="2221" fill="#ff3441"></path><path d="M411.351 732.345c0-32.904 8.848-58.665 26.518-77.336 17.671-18.616 40.508-27.925 68.461-27.925 18.319 0 34.825 4.384 49.519 13.15 14.693 8.714 25.895 20.945 33.635 36.585 7.685 15.64 11.554 33.392 11.554 53.254 0 20.077-4.059 38.099-12.176 53.956-8.118 15.912-19.619 27.926-34.502 36.044-14.882 8.173-30.928 12.285-48.165 12.285-18.672 0-35.367-4.546-50.061-13.529-14.693-9.038-25.841-21.324-33.418-36.964C415.139 766.277 411.351 749.771 411.351 732.345zM438.411 732.778c0 23.866 6.413 42.699 19.293 56.446 12.827 13.801 28.953 20.673 48.356 20.673 19.754 0 36.016-6.982 48.788-20.836 12.744-13.908 19.131-33.607 19.131-59.152 0-16.127-2.733-30.252-8.2-42.267-5.439-12.068-13.421-21.377-23.92-28.033-10.526-6.603-22.325-9.904-35.393-9.904-18.59 0-34.582 6.386-47.949 19.103C445.094 681.582 438.411 702.904 438.411 732.778z" p-id="2222" fill="#ff3441"></path><path d="M634.862 828.947 634.862 630.601l74.819 0c13.177 0 23.217 0.649 30.171 1.894 9.742 1.623 17.915 4.708 24.49 9.255 6.575 4.6 11.879 10.986 15.911 19.158 4.005 8.227 6.007 17.264 6.007 27.06 0 16.884-5.358 31.172-16.1 42.807-10.743 11.691-30.118 17.535-58.179 17.535l-50.871 0 0 80.637L634.862 828.947zM661.109 724.931l51.277 0c16.966 0 29.008-3.192 36.124-9.47 7.116-6.332 10.689-15.207 10.689-26.681 0-8.28-2.111-15.37-6.278-21.322-4.221-5.899-9.741-9.796-16.588-11.69-4.411-1.136-12.583-1.732-24.489-1.732l-50.736 0L661.108 724.931z" p-id="2223" fill="#ff3441"></path><path d="M512.23 1007.89c-66.938 0-131.882-13.113-193.027-38.976-59.052-24.977-112.083-60.729-157.62-106.267s-81.291-98.568-106.268-157.62C29.453 643.882 16.34 578.938 16.34 512s13.113-131.882 38.975-193.027c24.977-59.052 60.73-112.083 106.268-157.62s98.568-81.291 157.62-106.268C380.348 29.224 445.292 16.11 512.23 16.11c66.938 0 131.882 13.113 193.027 38.975 59.052 24.977 112.083 60.73 157.62 106.268s81.29 98.568 106.267 157.62c25.862 61.145 38.976 126.088 38.976 193.027s-13.113 131.882-38.976 193.027c-24.977 59.052-60.729 112.083-106.267 157.62s-98.568 81.29-157.62 106.267C644.112 994.776 579.168 1007.89 512.23 1007.89zM512.23 44.11c-63.171 0-124.445 12.369-182.12 36.763-55.714 23.565-105.754 57.304-148.729 100.279-42.975 42.975-76.713 93.014-100.279 148.729C56.708 387.555 44.34 448.829 44.34 512s12.369 124.444 36.763 182.119c23.565 55.715 57.304 105.754 100.279 148.729 42.975 42.976 93.014 76.714 148.729 100.278 57.675 24.395 118.949 36.764 182.12 36.764 63.17 0 124.445-12.369 182.12-36.764 55.714-23.564 105.754-57.303 148.729-100.277 42.975-42.976 76.713-93.015 100.277-148.729C967.75 636.444 980.119 575.171 980.119 512s-12.369-124.445-36.764-182.119c-23.564-55.714-57.303-105.754-100.277-148.729-42.975-42.975-93.015-76.713-148.729-100.279C636.675 56.479 575.4 44.11 512.23 44.11z" p-id="2224" fill="#ff3441"></path></svg>
  </div>
</template>
<script>
export default {
  data(){
    return{
      showTop:false,
      scrollTop:0,
      defaultDuration:1000,
    }
  },
  mounted(){
    window.addEventListener('scroll',this.handelScroll,false)
  },
  beforeDestroy(){
    window.removeEventListener('scroll',this.handelScroll,false)
  },
  methods:{
    handelScroll(){
      this.scrollTop = document.documentElement.scrollTop || window.pageXOffset || document.body.scrollTop
      this.showTop = this.scrollTop > 200 ? true : false
    },
    goTop(){
      const that = this
      const step = () => {
        if(that.scrollTop > that.defaultDuration){
          document.documentElement.scrollTop = document.body.scrollTop = that.scrollTop - that.defaultDuration
          window.requestAnimationFrame(step)
        }else{
          document.documentElement.scrollTop = document.body.scrollTop = 0
          window.cancelAnimationFrame(step)
        }
      }
      window.requestAnimationFrame(step)
    }
  }
}
</script>
<style lang="scss" scoped>
@import '~@/style/mixin';
.go_top{
  position: fixed;
  right: p2r(30);
  bottom: 3rem;
  @include rwh(75,75);
  border-radius: 50%;
  @include fc;
  background: rgba(255,255,255,.6);
  z-index: 999;
}
</style>